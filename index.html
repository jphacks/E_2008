<!DOCTYPE html>
<html>
<head lang="ja">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Virtual Zoom</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.webrtc.ecl.ntt.com/skyway-latest.js"></script>
    <script type="text/javascript" src="https://underscorejs.org/underscore-min.js"></script>
    <script type="text/javascript" src="./shared/key.js"></script>
    <script type="text/javascript" src="script.js"></script>
    <link rel="stylesheet" href="./shared/style.css">
    <link rel="stylesheet" href="claps_module/style.css">
</head>
<body onload="init()">
    <header>
        <img src="logo.png" class="logo"/>
        <div class="roomController">
            <form id="make-call">
                <div class="cp_iptxt">
                    <input type="text" placeholder="" id="join-room" class="ef">
                    <label>Join room...</label>
                    <span class="focus_line"></span>
                </div>
                <div class="btn-border-gradient-wrap">
                    <button type="submit" class="btn btn-border-gradient">Join!</button>
                </div>
            </form>
            <form id="end-call">
                <label class="room-label">Room: <strong id="room-id">...</strong></label>
                <div class="btn-border-gradient-wrap">
                    <button type="submit" class="btn btn-border-gradient">Leave</button>
                </div>
            </form>
            <span>通話においてのON/OFF</span>
            <label><input type="checkbox" id="audioTrack" checked> マイク</label>
            <label><input type="checkbox" id="videoTrack" checked> ビデオ</label>
        </div>
        <div class="mute-controller">
            
        </div>
        <div class="inputController">
            <p>Your id: <span id="my-id">...</span></p>
            <div class="select">
                <label for="audioSource">Audio input source: </label><select id="audioSource"></select>
            </div>
            <div class="select">
                <label for="videoSource">Video source: </label><select id="videoSource"></select>
            </div>
        </div>
    </header>
    <div class="videosContainer">
        <video id="myStream" autoplay muted="true">
            <!-- <source src="claps_module/clap.mp3"> -->
        </video>
        <audio id="audio_claps">
            <source src="claps_module/clap.mp3" type="audio/mp3">
        </audio>
        <div class="othersVideoContainer"></div>
    </div>

    <div class="myControllerContainer">
        <div id="chat-box">
            <div id="chatLog"></div>
            <div class="chatForm">
                <input type="text" id="msg" placeholder="　チャットを入力">
                <div class="btn-border-gradient-wrap">
                    <button type="submit" class="btn btn-border-gradient" id="send">Send</button>
                </div>
            </div>
        </div>

        <!-- //speechRecognize -->
        <div class="speechForm">
            <div id="result_text"></div>
            <div class="btn-border-gradient-wrap">
                <input type="submit" id="start_recognition" value="音声入力を開始！" class="btn btn-border-gradient">
            </div>
        </div>
        <div id="status">status: stop</div>
        <script type="text/javascript" src="speechRecognize/speechRec.js"></script>  
        <script type="text/javascript" src="speechRecognize/SPcommand.js"></script>  
        <!-- //speechRecognize -->
    </div>

    <div class="face-api-container">
        <video id="faceAPIStream" autoplay muted="true" onloadedmetadata="onPlay()"></video>
        <div class="face-api-output">
            <p>表情：<span id="expression">感情分析中</span></p>
            <!-- <h3>参加者の表情</h3>
            <div class="facesContainer"></div> -->
            <h3>表情リスト</h3>
            <dl class="faceCountList"></dl>
            <h3>音声コメントリスト</h3>
            <div class="sp_contents"></div>
        </div>
    </div>

    <script src="claps_module/howler.min.js"></script>
    <script type="text/javascript" src="claps_module/claps.js"></script>
    <script type="text/javascript" src="./js/face-api.min.js"></script>
    <script type="text/javascript" src="./js/script.js"></script>
    <script type="text/javascript" src="face_counter.js"></script>



</body>
</html>